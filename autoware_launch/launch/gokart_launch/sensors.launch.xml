<launch>
  <!-- Zed Camera Launch -->
  <arg name="camera_model" default="zed2i"/>
  <arg name="cam_pose" default="[0.0,0.0,0.0,0.0,0.0,0.0]"/>
  <arg name="base_frame" default="base_link"/>
  <arg name="publish_tf" default="false"/>
  <arg name="publish_map_tf" default="false"/>
  <arg name="publish_imu_tf" default="true"/>
  <arg name="imu_fusion" default="true"/>
  <arg name="gnss_fusion_enabled" default="true"/>
  <arg name="gnss_fix_topic" default="/gnss/yahboom/nav_sat_fix"/>
  <arg name="gnss_frame" default="gnss_link"/>
  <arg name="mapping_enabled" default="false"/>
  <arg name="publish_urdf" default="true"/>
  <arg name="ros_params_override_path" default="$(find-pkg-share common_sensor_launch)/config/camera_zed2i.yaml" />

  <!-- Front -->
  <include file="$(find-pkg-share common_sensor_launch)/launch/tests/zed_camera.launch.xml">
    <arg name="camera_name" value="zed_front"/>
    <arg name="serial_number" value="31955492"/>
    <arg name="cam_pose" value="$(var cam_pose)"/>


    <arg name="camera_model" value="$(var camera_model)"/>
    <arg name="base_frame" value="$(var base_frame)"/>
    <arg name="publish_tf" default="$(var publish_tf)"/>
    <arg name="publish_map_tf" default="$(var publish_map_tf)"/>
    <arg name="publish_imu_tf" default="$(var publish_imu_tf)"/>
    <arg name="imu_fusion" default="$(var imu_fusion)"/>
    <arg name="gnss_fusion_enabled" value="$(var gnss_fusion_enabled)"/>
    <arg name="gnss_fix_topic" value="$(var gnss_fix_topic)"/>
    <arg name="gnss_frame" value="$(var gnss_frame)"/>
    <arg name="mapping_enabled" value="$(var mapping_enabled)"/>
    <arg name="publish_urdf" value="$(var publish_urdf)"/>
    <arg name="ros_params_override_path" value="$(var ros_params_override_path)"/>
  </include>

  <!-- Left -->
  <include file="$(find-pkg-share common_sensor_launch)/launch/tests/zed_camera.launch.xml">
    <arg name="camera_name" value="zed_left"/>
    <arg name="serial_number" value="32890871"/>
    <arg name="cam_pose" value="$(var cam_pose)"/>

    <arg name="camera_model" value="$(var camera_model)"/>
    <arg name="base_frame" value="$(var base_frame)"/>
    <arg name="publish_tf" default="$(var publish_tf)"/>
    <arg name="publish_map_tf" default="$(var publish_map_tf)"/>
    <arg name="publish_imu_tf" default="$(var publish_imu_tf)"/>
    <arg name="imu_fusion" default="$(var imu_fusion)"/>
    <arg name="gnss_fusion_enabled" value="$(var gnss_fusion_enabled)"/>
    <arg name="gnss_fix_topic" value="$(var gnss_fix_topic)"/>
    <arg name="gnss_frame" value="$(var gnss_frame)"/>
    <arg name="mapping_enabled" value="$(var mapping_enabled)"/>
    <arg name="publish_urdf" value="$(var publish_urdf)"/>
    <arg name="ros_params_override_path" value="$(var ros_params_override_path)"/>
  </include>

  <!-- Right -->
  <include file="$(find-pkg-share common_sensor_launch)/launch/tests/zed_camera.launch.xml">
    <arg name="camera_name" value="zed_right"/>
    <arg name="serial_number" value="34748473"/>
    <arg name="cam_pose" value="$(var cam_pose)"/>

    <arg name="camera_model" value="$(var camera_model)"/>
    <arg name="base_frame" value="$(var base_frame)"/>
    <arg name="publish_tf" default="$(var publish_tf)"/>
    <arg name="publish_map_tf" default="$(var publish_map_tf)"/>
    <arg name="publish_imu_tf" default="$(var publish_imu_tf)"/>
    <arg name="imu_fusion" default="$(var imu_fusion)"/>
    <arg name="gnss_fusion_enabled" value="$(var gnss_fusion_enabled)"/>
    <arg name="gnss_fix_topic" value="$(var gnss_fix_topic)"/>
    <arg name="gnss_frame" value="$(var gnss_frame)"/>
    <arg name="mapping_enabled" value="$(var mapping_enabled)"/>
    <arg name="publish_urdf" value="$(var publish_urdf)"/>
    <arg name="ros_params_override_path" value="$(var ros_params_override_path)"/>
  </include>

  <!-- Rear -->
  <include file="$(find-pkg-share common_sensor_launch)/launch/tests/zed_camera.launch.xml">
    <arg name="camera_name" value="zed_rear"/>
    <arg name="serial_number" value="30627879"/>
    <arg name="cam_pose" value="$(var cam_pose)"/>

    <arg name="camera_model" value="$(var camera_model)"/>
    <arg name="base_frame" value="$(var base_frame)"/>
    <arg name="publish_tf" default="$(var publish_tf)"/>
    <arg name="publish_map_tf" default="$(var publish_map_tf)"/>
    <arg name="publish_imu_tf" default="$(var publish_imu_tf)"/>
    <arg name="imu_fusion" default="$(var imu_fusion)"/>
    <arg name="gnss_fusion_enabled" value="$(var gnss_fusion_enabled)"/>
    <arg name="gnss_fix_topic" value="$(var gnss_fix_topic)"/>
    <arg name="gnss_frame" value="$(var gnss_frame)"/>
    <arg name="mapping_enabled" value="$(var mapping_enabled)"/>
    <arg name="publish_urdf" value="$(var publish_urdf)"/>
    <arg name="ros_params_override_path" value="$(var ros_params_override_path)"/>
  </include>

  <!-- LIVOX LIDAR LAUNCH -->
  <include file="$(find-pkg-share common_sensor_launch)/launch/tests/single_lidar.launch.py" />

  <!-- IMU LAUNCH -->
  <include file="$(find-pkg-share sample_sensor_kit_launch)/launch/imu.launch.xml" />

  <!-- GNSS LAUNCH -->
  <include file="$(find-pkg-share sample_sensor_kit_launch)/launch/gnss.launch.xml" />

</launch>